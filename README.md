# Malware classification based on conventional machine learning

## Kapple Dataset
https://www.kaggle.com/c/malware-classification/

## Environment
- python3
- pandas
- sklearn
- lear gist (for GIST extraction)

## Introductions
* Features
	* 3-gram
	* bytes images GIST
	* number of headers
* Models
	* Randomforest
	* GBDT
	* KNN
	* SVM
	* Decision Tree

## Structure
- `randomsubset.py` choose train subset from dataset
- `asmimage.py` transfer bytes files to binary images
- `imggist.py` extract GIST features from images
- `opcode_n-gram.py` Opcode n-gram features
- `firstrandomforest.py` randomforest based on GIST
- `secondrandomforest.py` randomforest based on Opcode 3-gram
- `combine.py` combine 3-gram, image and headers to train multiple models

## Instructions

1. Extract dataset (skip)
2. Edit path parameters in files you are going to run.
3. Run opcode_n-gram.py,  asmimage.py and imggist.py to generate features.
4. Run randomforest or run combine.py directly

## If you are using python2
1. print '' to print()
2. map.items to map.iteritems
3. decode option when open asm files may not be necessary

## references
[xiaozhouwang/kaggle_Microsoft_Malware](https://github.com/xiaozhouwang/kaggle_Microsoft_Malware)  
[bindog/ToyMalwareClassification](https://github.com/bindog/ToyMalwareClassification)
