# Malware Classification Based on Conventional Machine Learning

## Kaggle Dataset
https://www.kaggle.com/c/malware-classification/

## Environment
- python3
- pandas
- sklearn
- lear gist (for GIST extraction)

## Introductions
* Features
	* opcode 3-gram
	* bytes images GIST
	* number of headers
* Models
	* Randomforest
	* GBDT
	* KNN
	* SVM
	* Decision Tree

## Structure
- `randomsubset.py` choose train subset from dataset
- `asmimage.py` transfer bytes files to binary images
- `imggist.py` extract GIST features from images
- `opcode_n-gram.py` Opcode n-gram features
- `countheaders.py` count numbers of headers
- `firstrandomforest.py` randomforest based on GIST
- `secondrandomforest.py` randomforest based on Opcode 3-gram
- `combine.py` combine 3-gram, image and headers to train multiple models

## Instructions

- Extract dataset (skip)
- Edit path parameters in files you are going to run.
- Run opcode_n-gram.py,  asmimage.py, imggist.py and countheaders.py to generate features.
- Run randomforest or run combine.py directly

## If you are using python2
- `print ''` to `print()`
- `map.items` to `map.iteritems`
- decode option when open asm files may not be necessary

## references
[xiaozhouwang/kaggle_Microsoft_Malware](https://github.com/xiaozhouwang/kaggle_Microsoft_Malware)  
[bindog/ToyMalwareClassification](https://github.com/bindog/ToyMalwareClassification)
